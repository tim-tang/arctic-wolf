define("wolf-app/app-common/0.0.1/index",["./view/mixin-base-view","$","underscore","backbone","./mixin/backbone-view-mixin","app-core","./mixin/generic-info-view-mixin","./common-utils","jquery-datatables","datatables","jasny","select2","switch","multi-select","./component-facade","moment","daterangepicker","datetimepicker","bootstrap-slider","modalEffects","bt-touchspin","./view/component-select2","./view/component-multi-select","./mixin/generic-details-view-mixin","./mixin/generic-mgmt-view-mixin","./common-constants","./common-loading"],function(a,b,c){c.exports.BaseView=a("./view/mixin-base-view"),c.exports.GenericInfoViewMixin=a("./mixin/generic-info-view-mixin"),c.exports.GenericDetailsViewMixin=a("./mixin/generic-details-view-mixin"),c.exports.GenericMgmtViewMixin=a("./mixin/generic-mgmt-view-mixin"),c.exports.CommonConstants=a("./common-constants"),c.exports.CommonLoading=a("./common-loading"),c.exports.CommonUtils=a("./common-utils"),c.exports.ComponentFacade=a("./component-facade")}),define("wolf-app/app-common/0.0.1/view/mixin-base-view",["$","underscore","backbone","wolf-app/app-common/0.0.1/mixin/backbone-view-mixin","app-core"],function(a,b,c){a("$"),a("underscore");var d=a("backbone"),e=a("wolf-app/app-common/0.0.1/mixin/backbone-view-mixin"),f=a("app-core").Eventbus,g=d.View.extend({manage:!0,show_loading:function(){f.trigger("show-loading")},hide_loading:function(){f.trigger("hide-loading")}},{mixin:e.mixin});c.exports=g}),define("wolf-app/app-common/0.0.1/mixin/backbone-view-mixin",["underscore","backbone"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f={mixin:function(a){var b=this.prototype;d.defaults(b,a),d.defaults(b.events,a.events),d.defaults(b.triggers,a.triggers),f.extendMethod(b,a,"initialize"),f.extendMethod(b,a,"render")},extendMethod:function(a,b,c){if(!d.isUndefined(b[c])){var e=a[c];a[c]=function(){var a=e.apply(this,arguments);return b[c].apply(this,arguments),a}}}};c.exports=d.extend(e.View.prototype,f)}),define("wolf-app/app-common/0.0.1/mixin/generic-info-view-mixin",["$","underscore","wolf-app/app-common/0.0.1/common-utils","jquery-datatables","datatables","jasny","select2","switch","multi-select","wolf-app/app-common/0.0.1/component-facade","moment","daterangepicker","datetimepicker","bootstrap-slider","modalEffects","bt-touchspin","wolf-app/app-common/0.0.1/view/component-select2","backbone","wolf-app/app-common/0.0.1/view/component-multi-select","app-core"],function(a,b,c){var d=a("$"),e=a("underscore"),f=a("wolf-app/app-common/0.0.1/common-utils");a("wolf-app/app-common/0.0.1/component-facade"),a("app-core").Eventbus;var g={initialize:function(){d("#tab-content").children().remove(),this.listenTo(this.model,"sync",this.load_object),this.model.fetch()},events:{},add_obj:function(a){a&&a.preventDefault(),d("#assign-modal").modal("show")},delete_obj:function(a){a&&a.preventDefault(),e.invoke(this.collection.selected(),"destroy"),f.remove_selected_row(this.datatable),console.log(this.collection)}};c.exports=g}),define("wolf-app/app-common/0.0.1/common-utils",["$","jquery-datatables","datatables","jasny","select2","switch","multi-select"],function(a,b,c){var d=a("$");a("jquery-datatables"),a("datatables"),a("jasny"),a("select2"),a("switch"),a("multi-select"),c.exports={generate_datatable:function(a,b,c,e){var f=c+"-div";d("#"+f).html('<table class="table table-bordered" id="'+c+'"></table>'),c="#"+c;var g=d(c).dataTable({aaData:b,aoColumns:a});d(".dataTables_filter input").addClass("form-control").attr("placeholder","Search"),d(".dataTables_length select").addClass("form-control"),e(g)},remove_selected_row:function(a){var b=a.$("tr.row_selected");b.each(function(b,c){a.fnDeleteRow(c)})},init_select2:function(){d(".select2").select2({width:"100%"})},init_select2_tag:function(){d(".tags").select2({tags:0,width:"100%"})},init_switch:function(){d(".switch").bootstrapSwitch()},init_multi_select:function(){d(".searchable").multiSelect({selectableHeader:"<input type='text' class='form-control search-input' autocomplete='off' placeholder='Filter String'>",selectionHeader:"<input type='text' class='form-control search-input' autocomplete='off' placeholder='Filter String'>",afterInit:function(){var a=this,b=a.$selectableUl.prev(),c=a.$selectionUl.prev(),d="#"+a.$container.attr("id")+" .ms-elem-selectable:not(.ms-selected)",e="#"+a.$container.attr("id")+" .ms-elem-selection.ms-selected";a.qs1=b.quicksearch(d).on("keydown",function(b){return 40===b.which?(a.$selectableUl.focus(),!1):void 0}),a.qs2=c.quicksearch(e).on("keydown",function(b){return 40==b.which?(a.$selectionUl.focus(),!1):void 0})},afterSelect:function(){this.qs1.cache(),this.qs2.cache()},afterDeselect:function(){this.qs1.cache(),this.qs2.cache()}})},resetForm:function(a){a.find("input:text, input:password, input:file, select, textarea").val(""),a.find("input:radio, input:checkbox").removeAttr("checked").removeAttr("selected")}}}),define("wolf-app/app-common/0.0.1/component-facade",["underscore","$","jquery-datatables","datatables","jasny","select2","switch","multi-select","moment","daterangepicker","datetimepicker","bootstrap-slider","modalEffects","bt-touchspin","wolf-app/app-common/0.0.1/view/component-select2","backbone","wolf-app/app-common/0.0.1/view/component-multi-select"],function(a,b,c){var d=a("underscore"),e=a("$");a("jquery-datatables"),a("datatables"),a("jasny"),a("select2"),a("switch"),a("multi-select"),a("moment"),a("daterangepicker"),a("datetimepicker"),a("bootstrap-slider"),a("modalEffects"),a("bt-touchspin");var f={init_by_component_settings:function(a){var b=this;d.each(a,function(a){switch(a.component){case"DATE_RANGE_PICKER":b.init_daterange_picker(a.selector,a.options);break;case"SELECT2":b.init_select2(a.selector,a.options);break;case"SELECT2TAG":b.init_select2_tag(a.selector,a.options);break;case"SLIDER_RANGE":b.init_slider_range(a.selector,a.options)}})},init_datatable:function(a,b,c){var d=a+"-div";e("#"+d).html('<table class="table table-bordered" id="'+a+'"></table>'),datatable_id="#"+a;var f=e(datatable_id).dataTable({aaData:b.data,aoColumns:b.header});e(".dataTables_filter input").addClass("form-control").attr("placeholder","Search"),e(".dataTables_length select").addClass("form-control"),c(f)},init_daterange_picker:function(a,b){var c=function(b,c){e(a+" span").html(b.format("MMMM D, YYYY")+" - "+c.format("MMMM D, YYYY"))},d={startDate:moment().subtract("days",29),endDate:moment(),minDate:b.minDate,maxDate:b.maxDate,dateLimit:{days:60},showDropdowns:!0,showWeekNumbers:!0,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!0,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract("days",1),moment().subtract("days",1)],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")]},opens:"left",buttonClasses:["btn btn-default"],applyClass:"btn-small btn-primary",cancelClass:"btn-small",format:"MM/DD/YYYY",separator:" to ",locale:{applyLabel:"Submit",cancelLabel:"Clear",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1}};e(a+" span").html(moment().subtract("days",29).format("MMMM D, YYYY")+" - "+moment().format("MMMM D, YYYY")),e(a).daterangepicker(d,c),e(a).on("show",function(){console.log("show event fired")}),e(a).on("hide",function(){console.log("hide event fired")}),e(a).on("apply",function(a,b){console.log("apply event fired, start/end dates are "+b.startDate.format("MMMM D, YYYY")+" to "+b.endDate.format("MMMM D, YYYY"))}),e(a).on("cancel",function(){console.log("cancel event fired")})},init_select2:function(b,c,d,e){var f=a("wolf-app/app-common/0.0.1/view/component-select2");new f({selector:b,attrs:c}).render().promise().done(function(a){var b=a.options.selector_id,c=a.$el.find("select");b?(a.$el.appendTo("#"+b+"-container"),c.attr("id",b)):a.$el.appendTo(d.$el.children()[e]),"multiple"===a.options.multiple&&c.attr("multiple","multiple"),c.select2({width:"100%",placeholder:"Please select",allowClear:!0})})},init_select2_tag:function(a){e(a).select2({tags:0,width:"100%"})},init_slider_range:function(a,b){e(a).slider().on("slide",function(a){e(b.min_selector).html("¥"+a.value[0]),e(b.max_selector).html("¥"+a.value[1])})},init_switch:function(a){e(a).bootstrapSwitch()},init_multi_select:function(b,c){var d=a("wolf-app/app-common/0.0.1/view/component-multi-select");new d({selector:b,attrs:c}).render().promise().done(function(a){var b=a.options.selector_id,d=a.$el.find("select");if(b){var f="#"+b+"-container";e(f).children()&&e(f).children().remove(),a.$el.appendTo(f),d.attr("id",b)}"multiple"===a.options.multiple&&d.attr("multiple","multiple"),d.multiSelect({selectableOptgroup:!0,selectableHeader:"<input type='text' class='form-control search-input' autocomplete='off' placeholder='Filter String'>",selectionHeader:"<input type='text' class='form-control search-input' autocomplete='off' placeholder='Filter String'>",afterInit:function(){var a=this,b=a.$selectableUl.prev(),c=a.$selectionUl.prev(),d="#"+a.$container.attr("id")+" .ms-elem-selectable:not(.ms-selected)",e="#"+a.$container.attr("id")+" .ms-elem-selection.ms-selected";a.qs1=b.quicksearch(d).on("keydown",function(b){return 40===b.which?(a.$selectableUl.focus(),!1):void 0}),a.qs2=c.quicksearch(e).on("keydown",function(b){return 40==b.which?(a.$selectionUl.focus(),!1):void 0})},afterSelect:function(){this.qs1.cache(),this.qs2.cache()},afterDeselect:function(){this.qs1.cache(),this.qs2.cache()}}),console.log(c.selected),d.multiSelect("select",c.selected)})},init_touchspine:function(a,b){e(a).TouchSpin({min:b.min,max:b.max,stepinterval:b.interval,maxboostedstep:1e7,prefix:b.prefix})}};c.exports=f}),define("wolf-app/app-common/0.0.1/view/component-select2",["$","underscore","backbone","select2"],function(a,b,c){a("$");var d=a("underscore"),e=a("backbone");a("select2");var f=e.View.extend({manage:!0,prefix:"app-common/src/tpl/",template:"component-select2.html",initialize:function(a){this.selector=a.selector,this.options=a.attrs},afterRender:function(){},serialize:function(){return{options:d.clone(this.options)}}});c.exports=f}),define("wolf-app/app-common/0.0.1/view/component-multi-select",["$","underscore","backbone","select2"],function(a,b,c){a("$");var d=a("underscore"),e=a("backbone");a("select2");var f=e.View.extend({manage:!0,prefix:"app-common/src/tpl/",template:"component-multi-select.html",initialize:function(a){this.selector=a.selector,this.options=a.attrs},afterRender:function(){},serialize:function(){return{options:d.clone(this.options)}}});c.exports=f}),define("wolf-app/app-common/0.0.1/mixin/generic-details-view-mixin",["$","underscore","wolf-app/app-common/0.0.1/common-utils","jquery-datatables","datatables","jasny","select2","switch","multi-select","wolf-app/app-common/0.0.1/component-facade","moment","daterangepicker","datetimepicker","bootstrap-slider","modalEffects","bt-touchspin","wolf-app/app-common/0.0.1/view/component-select2","backbone","wolf-app/app-common/0.0.1/view/component-multi-select","app-core"],function(a,b,c){var d=a("$"),e=a("underscore"),f=a("wolf-app/app-common/0.0.1/common-utils"),g=a("wolf-app/app-common/0.0.1/component-facade"),h=a("app-core").Eventbus,i={initialize:function(){d("#tab-content").children().remove(),this.listenTo(this.model,"sync",this.load_object),this.model.fetch(),console.log("######## Register event: set_selected_objects"),h.off("set_selected_objects"),h.on("set_selected_objects",this.setSelectedObjectsForMultiSelect,this)},events:{"click #delete":"delete_obj","click #add":"add_obj"},init_datatable:function(a){var b=this;g.init_datatable(this.datatable_id,{data:this.model.get(a).aaData,header:this.model.get(a).aoColumns},function(a){b.datatable=a,d("#"+b.datatable_id).on("click","tbody tr",function(){d(this).toggleClass("row_selected");var a=d(this).find("td:first").html().trim(),c=b.collection.get(a);c.toggle_select()}),h.trigger("hide-loading")})},setSelectedObjectsForMultiSelect:function(a){var b=[];console.log("***************"+this.collection),console.log("***************"+this.model.get("privileges").aaData),e.each(this.collection.models,function(a){b.push(a.id)}),a.assignObjects.selected=b,console.log(a.assignObjects),a.renderMultiSelect()},add_obj:function(a){a&&a.preventDefault(),d("#assign-modal").modal("show")},delete_obj:function(a){a&&a.preventDefault(),e.invoke(this.collection.selected(),"destroy"),f.remove_selected_row(this.datatable),console.log(this.collection)}};c.exports=i}),define("wolf-app/app-common/0.0.1/mixin/generic-mgmt-view-mixin",["$","underscore","wolf-app/app-common/0.0.1/common-utils","jquery-datatables","datatables","jasny","select2","switch","multi-select","wolf-app/app-common/0.0.1/component-facade","moment","daterangepicker","datetimepicker","bootstrap-slider","modalEffects","bt-touchspin","wolf-app/app-common/0.0.1/view/component-select2","backbone","wolf-app/app-common/0.0.1/view/component-multi-select","app-core"],function(a,b,c){var d=a("$"),e=a("underscore"),f=a("wolf-app/app-common/0.0.1/common-utils"),g=a("wolf-app/app-common/0.0.1/component-facade"),h=a("app-core").Eventbus,i={initialize:function(){this.listenTo(this.collection,"request",this.show_loading),this.listenTo(this.collection,"remove",this.hide_loading),this.listenTo(this.collection,"sync",this.load_objects)},events:{"click #mgmt-delete":"delete_obj","click #mgmt-edit":"edit_obj","click #mgmt-view":"view_obj","click #mgmt-new":"new_obj"},load_objects:function(){var a=this;g.init_datatable(this.datatable_id,{data:this.collection.toJSON(),header:this.collection.columns},function(b){a.datatable=b,d("#"+a.datatable_id).on("click","tbody tr",function(){d(this).toggleClass("row_selected");var b=d(this).find("td:first").html().trim(),c=a.collection.get(b);c.toggle_select()}),h.trigger("hide-loading")})},view_obj:function(a){a&&a.preventDefault(),alert("mgmtViewMixin")},edit_obj:function(a){a&&a.preventDefault()},delete_obj:function(a){a&&a.preventDefault(),console.log(JSON.stringify(this.collection)),e.invoke(this.collection.selected(),"destroy"),f.remove_selected_row(this.datatable)},new_obj:function(a){a&&a.preventDefault()}};c.exports=i}),define("wolf-app/app-common/0.0.1/common-constants",[],function(a,b,c){var d={WS_HOST:"http://localhost:5000",SECURITY_RESOURCES:["#dashboard/","#vehicle-mgmt/","#user-group-mgmt/","#user-mgmt/","#role-mgmt/","#privilege-mgmt/","#criteria-mgmt/","#generic-filter/"],PUBLIC_RESOURCES:["","#security/login","#security/forgot-password","#security/reset-password"],CANCELLED_WHILE_AUTH_DONE:["#security/login"]};c.exports=d}),define("wolf-app/app-common/0.0.1/common-loading",["$"],function(a,b,c){var d=a("$");c.exports={init:function(a){var b=d(a),c=d('<div id="loading" class="loading"><i class="fa fa-refresh fa-spin"></i></div>');c.appendTo(b),c.fadeIn(0)},destroy:function(){d("#loading").remove()}}});
