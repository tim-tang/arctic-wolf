define("wolf-app/privilege-mgmt/0.0.1/index",["./privilege-app","$","underscore","backbone","app-core","app-common","./view/privilege-mgmt","./collection/privilege-coll","./model/privilege-model","./view/privilege-new-modal","modalEffects","quicksearch","./router/privilege-router","subroute"],function(a,b,c){c.exports.PrivilegeMgmtApp=a("./privilege-app"),c.exports.PrivilegeColl=a("./collection/privilege-coll"),c.exports.PrivilegeModel=a("./model/privilege-model")}),define("wolf-app/privilege-mgmt/0.0.1/privilege-app",["$","underscore","backbone","app-core","app-common","wolf-app/privilege-mgmt/0.0.1/view/privilege-mgmt","wolf-app/privilege-mgmt/0.0.1/collection/privilege-coll","wolf-app/privilege-mgmt/0.0.1/model/privilege-model","wolf-app/privilege-mgmt/0.0.1/view/privilege-new-modal","modalEffects","quicksearch","wolf-app/privilege-mgmt/0.0.1/router/privilege-router","subroute"],function(a,b,c){a("$"),a("underscore");var d=a("backbone"),e=a("app-core").Eventbus,f=a("app-common"),g=f.CommonLoading,h=a("wolf-app/privilege-mgmt/0.0.1/view/privilege-mgmt"),i=a("wolf-app/privilege-mgmt/0.0.1/view/privilege-new-modal"),j=new d.Layout({manage:!0,prefix:"privilege-mgmt/src/tpl/",template:"privilege-container.html",events:{},afterRender:function(){this.insertView("#privilege-home",new h).render(),this.insertView("#privilege-home",new i).render()},initialize:function(){e.on("show-loading",this.show_loading,this),e.on("hide-loading",this.hide_loading,this)},afterRender:function(){var a=new h;this.insertView("#privilege-home",a).render();var b=new i;this.insertView("#privilege-home",b).render()},show_loading:function(){g.init("#main-content")},hide_loading:function(){g.destroy()}});c.exports={run:function(a){a.show("#main-content",j)},invokePrivilegeRouter:function(){var b=a("wolf-app/privilege-mgmt/0.0.1/router/privilege-router");return new b("privilege-mgmt/",{createTrailingSlashRoutes:!0})}}}),define("wolf-app/privilege-mgmt/0.0.1/view/privilege-mgmt",["$","underscore","app-common","app-core","wolf-app/privilege-mgmt/0.0.1/collection/privilege-coll","backbone","wolf-app/privilege-mgmt/0.0.1/model/privilege-model"],function(a,b,c){a("$"),a("underscore");var d=a("app-common"),e=d.BaseView,f=d.GenericMgmtViewMixin;d.CommonUtils,d.ComponentFacade;var f=d.GenericMgmtViewMixin;a("app-core").Eventbus;var g=a("wolf-app/privilege-mgmt/0.0.1/collection/privilege-coll");a("wolf-app/privilege-mgmt/0.0.1/model/privilege-model");var h=e.extend({prefix:"privilege-mgmt/src/tpl/",template:"privilege-mgmt.html",datatable_id:"privilege-mgmt-datatable",collection:g,afterRender:function(){g.fetch()}});h.mixin(f),c.exports=h}),define("wolf-app/privilege-mgmt/0.0.1/collection/privilege-coll",["$","underscore","backbone","wolf-app/privilege-mgmt/0.0.1/model/privilege-model"],function(a,b,c){a("$");var d=a("underscore"),e=a("backbone"),f=a("wolf-app/privilege-mgmt/0.0.1/model/privilege-model"),g=e.Collection.extend({model:f,url:"/privileges",columns:[],data:[],parse:function(a){this.columns=a.aoColumns;for(var b=d.pluck(this.columns,"mData"),c=a.aaData,e=0;e<c.length;e++){var f=new this.model;d.each(b,function(a){f.set(a,c[e][a])}),this.push(f)}return this.models},selected:function(){return this.filter(function(a){return a.get("is_selected")===!0})}});c.exports=new g}),define("wolf-app/privilege-mgmt/0.0.1/model/privilege-model",["backbone"],function(a,b,c){var d=a("backbone"),e=d.Model.extend({urlRoot:"/privileges",defaults:{priv_name:"",priv_desc:"",priv_type:"",criteria:"",enabled:"",is_selected:!1},toggle_select:function(){this.set({is_selected:!this.get("is_selected")})}});c.exports=e}),define("wolf-app/privilege-mgmt/0.0.1/view/privilege-new-modal",["modalEffects","quicksearch","$","underscore","backbone","wolf-app/privilege-mgmt/0.0.1/collection/privilege-coll","wolf-app/privilege-mgmt/0.0.1/model/privilege-model","app-common"],function(a,b,c){a("modalEffects"),a("quicksearch"),a("$"),a("underscore");var d=a("backbone"),e=a("wolf-app/privilege-mgmt/0.0.1/collection/privilege-coll"),f=a("wolf-app/privilege-mgmt/0.0.1/model/privilege-model"),g=a("app-common").ComponentFacade,h=d.View.extend({manage:!0,model:new f,prefix:"privilege-mgmt/src/tpl/modal/",template:"privilege-new-modal.html",events:{"click #privilege-create-action":"create_privilege"},initialize:function(){this.privilegeType={selector_id:"privilege-type",optgroups:[{options:[{value:"1",label:"Read"},{value:"2",label:"Create"},{value:"3",label:"Modify"},{value:"4",label:"Delete"}]}]},this.criterias={selector_id:"criteria",optgroups:[{label:"Vehicle",options:[{value:"1",label:"All Vehicle"},{value:"2",label:"Red Car"}]},{label:"User",options:[{value:"3",label:"All User"},{value:"4",label:"All Administrator"}]}]}},afterRender:function(){g.init_switch(".switch"),g.init_select2(".select2",this.criterias),g.init_select2(".select2",this.privilegeType)},new_attributes:function(){return{priv_name:this.$("#privilege-name").val().trim(),priv_desc:this.$("#privilege-desc").val().trim(),priv_type:this.$("#privilege-type").val().trim(),criteria:this.$("#criteria").val().trim(),enabled:"on"===this.$("#enabled").val().trim()?"Yes":"No"}},create_privilege:function(){e.create(this.new_attributes())}});c.exports=h}),define("wolf-app/privilege-mgmt/0.0.1/router/privilege-router",["backbone","app-core","subroute"],function(a,b,c){var d=a("backbone"),e=a("app-core").Eventbus;a("subroute");var f=d.SubRoute.extend({initialize:function(){},routes:{"":"home"},home:function(){e.trigger("layout:switch-module-action")}});c.exports=f});
