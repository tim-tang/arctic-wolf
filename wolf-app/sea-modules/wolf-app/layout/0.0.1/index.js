define("wolf-app/layout/0.0.1/index",["./layout-app","nanoscroller","sparkline","gritter","bootstrap","$","underscore","backbone","app-common","app-core","./view/layout-logo","./view/layout-user","./view/layout-menu","./behavior/layout-behavior","./view/layout-profile","app-security"],function(a,b,c){c.exports.LayoutApp=a("./layout-app")}),define("wolf-app/layout/0.0.1/layout-app",["nanoscroller","sparkline","gritter","bootstrap","$","underscore","backbone","app-common","app-core","wolf-app/layout/0.0.1/view/layout-logo","wolf-app/layout/0.0.1/view/layout-user","wolf-app/layout/0.0.1/view/layout-menu","wolf-app/layout/0.0.1/behavior/layout-behavior","wolf-app/layout/0.0.1/view/layout-profile","app-security"],function(a,b,c){a("nanoscroller"),a("sparkline"),a("gritter"),a("bootstrap");var d=a("$");a("underscore");var e=a("backbone"),f=a("app-common");f.CommonUtils;var g=a("app-core");g.Eventbus,g.ViewMgmt;var h=a("wolf-app/layout/0.0.1/view/layout-logo"),i=a("wolf-app/layout/0.0.1/view/layout-user"),j=a("wolf-app/layout/0.0.1/view/layout-menu"),k=a("wolf-app/layout/0.0.1/view/layout-profile"),l=new e.Layout({retain:!0,prefix:"layout/src/tpl/",template:"layout.html",initialize:function(){},beforeRender:function(){d("#main-body").removeClass("texture")},afterRender:function(){var a=new h;this.insertView("#layout-logo-user-menu",a).render();var b=this,c=new i;this.insertView("#layout-logo-user-menu",c).render().promise().done(function(){var a=new j;b.insertView("#layout-logo-user-menu",a).render()});var d=new k;this.insertView("#layout-profile",d).render()}});c.exports=l}),define("wolf-app/layout/0.0.1/view/layout-logo",["backbone"],function(a,b,c){var d=a("backbone"),e=d.View.extend({manage:!0,prefix:"layout/src/tpl/",template:"layout-logo.html"});c.exports=e}),define("wolf-app/layout/0.0.1/view/layout-user",["backbone"],function(a,b,c){var d=a("backbone"),e=d.View.extend({manage:!0,prefix:"layout/src/tpl/",template:"layout-user.html"});c.exports=e}),define("wolf-app/layout/0.0.1/view/layout-menu",["$","backbone","app-core","wolf-app/layout/0.0.1/behavior/layout-behavior"],function(a,b,c){var d=a("$"),e=a("backbone"),f=a("app-core").Eventbus,g=e.View.extend({manage:!0,prefix:"layout/src/tpl/",template:"layout-menu.html",initialize:function(){f.on("layout:active-menu-item",this.active_menu_item,this)},events:{"click ul.cl-vnavigation li":"active_menu_item"},afterRender:function(){var b=a("wolf-app/layout/0.0.1/behavior/layout-behavior");b.init(),this.active_menu_item()},active_menu_item:function(a){a&&a.preventDefault(),d("ul.cl-vnavigation li").each(function(a,b){var c=b.children[0];c.href==String(window.location)?d(this).addClass("active"):d(this).removeClass("active")})}});c.exports=g}),define("wolf-app/layout/0.0.1/behavior/layout-behavior",["$"],function(a,b,c){var d=a("$"),e={init:function(){this.init_navigation_menu(),this.init_small_device_toggle(),this.init_collapse_sidebar(),this.init_layout_wrapper(),this.init_submenu_hover(),this.init_layout_misc()},init_navigation_menu:function(){d(".cl-vnavigation li ul").each(function(){d(this).parent().addClass("parent")}),d(".cl-vnavigation li ul li.active").each(function(){d(this).parent().css({display:"block"}),d(this).parent().parent().addClass("open")}),d(".cl-vnavigation").delegate(".parent > a","click",function(a){d(".cl-vnavigation .parent.open > ul").not(d(this).parent().find("ul")).slideUp(300,"swing",function(){d(this).parent().removeClass("open")});var b=d(this).parent().find("ul");b.slideToggle(300,"swing",function(){var a=d(this).parent();a.hasClass("open")?a.removeClass("open"):a.addClass("open"),d("#cl-wrapper .nscroller").nanoScroller({preventPageScrolling:!0})}),a.preventDefault()})},init_small_device_toggle:function(){d(".cl-toggle").click(function(a){var b=d(".cl-vnavigation");b.slideToggle(300,"swing",function(){}),a.preventDefault()})},init_collapse_sidebar:function(){var a=this;d("#sidebar-collapse").click(function(){a.toggleSideBar(this)})},init_layout_wrapper:function(){function a(){var a=d("#cl-wrapper .collapse-button"),c=a.outerHeight();d("#head-nav").height();var e=d(window).height()-(a.is(":visible")?c:0);b.css("height",e),d("#cl-wrapper .nscroller").nanoScroller({preventPageScrolling:!0})}if(d("#cl-wrapper").hasClass("fixed-menu")){var b=d("#cl-wrapper .menu-space");b.addClass("nano nscroller"),d(window).resize(function(){a()}),a(),d("#cl-wrapper .nscroller").nanoScroller({preventPageScrolling:!0})}},init_submenu_hover:function(){function a(a){if((d("#cl-wrapper").hasClass("sb-collapsed")||d(window).width()>755&&d(window).width()<963)&&d("ul",a).length>0){d(a).removeClass("ocult");var c=d("ul",a);if(!d(".dropdown-header",a).length){var e='<li class="dropdown-header">'+d(a).children().html()+"</li>";c.prepend(e)}b.appendTo("body");var f=d(a).offset().top+8-d(window).scrollTop(),g=d(a).width();b.css({top:f,left:g+8}),b.html('<ul class="sub-menu">'+c.html()+"</ul>"),b.show(),c.css("top",f)}else b.hide()}var b=d("<div id='sub-menu-nav' style='position:fixed;z-index:9999;'></div>");d(".cl-vnavigation li").hover(function(b){a(this,b)},function(){b.removeClass("over"),setTimeout(function(){!b.hasClass("over")&&!d(".cl-vnavigation li:hover").length>0&&b.hide()},500)}),b.hover(function(){d(this).addClass("over")},function(){d(this).removeClass("over"),b.fadeOut("fast")}),d(document).click(function(){b.hide()}),d(document).on("touchstart click",function(){b.fadeOut("fast")}),b.click(function(a){a.stopPropagation()}),d(".cl-vnavigation li").click(function(b){(d("#cl-wrapper").hasClass("sb-collapsed")||d(window).width()>755&&d(window).width()<963)&&d("ul",this).length>0&&!(d(window).width()<755)&&(a(this,b),b.stopPropagation(),b.preventDefault())})},init_layout_misc:function(){var a=220,b=500,c=d('<a href="#" class="back-to-top"><i class="fa fa-angle-up"></i></a>');c.appendTo("body"),jQuery(window).scroll(function(){jQuery(this).scrollTop()>a?jQuery(".back-to-top").fadeIn(b):jQuery(".back-to-top").fadeOut(b)}),jQuery(".back-to-top").click(function(a){return a.preventDefault(),jQuery("html, body").animate({scrollTop:0},b),!1}),d('.ttip, [data-toggle="tooltip"]').tooltip(),d('[data-popover="popover"]').popover(),d(".nscroller").nanoScroller(),d(".dropdown").on("shown.bs.dropdown",function(){d(".nscroller").nanoScroller()}),d(".nav-tabs").on("shown.bs.tab",function(){d(".nscroller").nanoScroller()})},toggleSideBar:function(){var a=d("#sidebar-collapse")[0],b=d("#cl-wrapper");d(".cl-sidebar"),b.hasClass("sb-collapsed")?(d(".fa",a).addClass("fa-angle-left").removeClass("fa-angle-right"),b.removeClass("sb-collapsed")):(d(".fa",a).removeClass("fa-angle-left").addClass("fa-angle-right"),b.addClass("sb-collapsed"))}};c.exports=e}),define("wolf-app/layout/0.0.1/view/layout-profile",["backbone","app-core","app-security"],function(a,b,c){var d=a("backbone"),e=a("app-core").Eventbus,f=a("app-security").AuthenticationProvider,g=d.View.extend({manage:!0,prefix:"layout/src/tpl/",template:"layout-profile.html",events:{"click #sign-out":"sign_out"},sign_out:function(a){a.preventDefault(),f.signout(function(){e.trigger("layout:discard-layout-action"),d.history.navigate("security/login",!0)})}});c.exports=g});
